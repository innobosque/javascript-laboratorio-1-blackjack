const blackJack=(()=>{"use strict";let e=[],t=[];const n=["C","D","H","S"],a=["A","J","Q","K"],r=document.querySelectorAll("small"),o=document.querySelectorAll(".cartas"),l=document.querySelector("#btn-ask-for"),s=document.querySelector("#btn-stop-game"),c=document.querySelector("#btn-new-game"),d=(n=1)=>{console.clear(),t=i(),e=Array.from([...Array(n+1)],(()=>0)),l.disabled=!1,s.disabled=!1,e[e.length-1]=0,e[0]=0,o[0].innerHTML="",o[e.length-1].innerHTML="",r[0].textContent=r[1].textContent=0},i=()=>{let e=[];return n.forEach((t=>{const n=[...Array(9)].map(((e,n)=>`${n+2}${t}`));e=[...e,...n]})),a.forEach((t=>{const a=Array.from(n,(e=>`${t}${e}`));e=[...e,...a]})),_.shuffle(e)},u=(e,t="10C")=>{const n=document.createElement("img");n.classList.add("carta"),n.src=`assets/cartas/${t}.png`,e.append(n)},b=()=>{if(!Boolean(t.length))throw new Error("No hay cartas en la baraja");return{card:t.pop()}},m=e=>(e=e.substring(0,e.length-1),isNaN(e)?"A"===e?11:10:Number.parseInt(e)),g=(t,n)=>{e[t]+=n},h=(t=12)=>{const n=e.length-1;do{const{card:e}=b();u(o[n],e),g(n,m(e))}while(e[n]<t&&t<21);r[1].textContent=e[n]};return l.addEventListener("click",(()=>{const{card:t}=b();u(o[0],t),g(0,m(t)),e[0]>21?(console.log("Perdiste"),h(e[0]),l.disabled=!0,s.disabled=!0):21===e[0]&&(console.warn("Ganaste Genial"),l.disabled=!0,s.disabled=!0),r[0].textContent=e[0]})),s.addEventListener("click",(()=>{l.disabled=!0,s.disabled=!0,h(e[0]),e[e.length-1]<22&&e[e.length-1]>=e[0]?console.log("Perdiste"):console.warn("Ganaste Genial")})),c.onclick=()=>{d()},{init:d}})();